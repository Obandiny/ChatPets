<!-- Contenedor del Encabezado -->
<header>
  <div class="options">
      <div class="back">
        <button mat-icon-button matTooltip="Volver" [routerLink]="['/menu']" class="icon-button blue-icon">
        <mat-icon>arrow_back_ios_new</mat-icon>
        </button>
      </div>
  
      <div class="logo">
          <p>MASCOTAPP</p>   
      </div>
  </div>
</header>

<div class="seguimiento-container">
  <h2>Historial Clinico</h2>

  <table mat-table [dataSource]="diagnosticos" class="mat-elevation-z4">

    <!-- Mascota -->
    <ng-container matColumnDef="mascota">
      <th mat-header-cell *matHeaderCellDef="">Mascota</th>
      <td mat-cell *matCellDef="let d">
        <div class="mascota-cell" (click)="verDetalle(d.id)">
          <img [src]="d.mascota.imagen_url || 'assets/pet.png'" />
          <span>{{ d.mascota.nombre }}</span>
        </div>
      </td>
    </ng-container>

    <!-- Enfermedad -->
    <ng-container matColumnDef="enfermedad">
      <th mat-header-cell *matHeaderCellDef>Enfermedad</th>
      <td mat-cell *matCellDef="let d">{{ d.enfermedad }}</td>
    </ng-container>

    <!-- Prioridad -->
    <ng-container matColumnDef="prioridad">
      <th mat-header-cell *matHeaderCellDef>Prioridad</th>
      <td mat-cell *matCellDef="let d">
        <span class="badge" [ngClass]="d.prioridad">
          {{ d.prioridad | uppercase }}
        </span>
      </td>
    </ng-container>

    <!-- Fecha -->
    <ng-container matColumnDef="fecha">
      <th mat-header-cell *matHeaderCellDef>Fecha</th>
      <td mat-cell *matCellDef="let d">
        {{ d.fecha | date:'short' }}
      </td>
    </ng-container>

    <!-- Acciones -->
    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef>Accion</th>
      <td mat-cell *matCellDef="let d">
        <button mat-icon-button color="primary" (click)="verDetalle(d.id)">
          <mat-icon>visibility</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="eliminar(d.id)">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnas"></tr>
    <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
    
  </table>
</div>

  <footer>
    <span>Recuerda el diagnostico puede que no este completo. Consulta con el veterinario.</span>
  </footer>

